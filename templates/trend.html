{% extends 'base_template.html' %}
{% block tsa_home %}

<nav class="navbar navbar-light bg-light" style="margin-left: 28%; margin-top: 15%; ">
<form autocomplete="off" method="POST" action="/trend_ac/" >
    <div class="autocomplete" >
      <input id="myInput" type="text" name="search" placeholder="Search" style="width: 500px; height: 40px;">
    <button class="btn btn-outline-success my-2 my-sm-0" type="submit" style="height: 40px;">Search</button>
</div> 
  </form>
  </nav>
<script>
var companies=['ADANIPORTS - Adani Ports & Special Economic Zone Ltd. - CONSTRUCTION',
'ASIANPAINT - Asian Paints Ltd. - PAINTS',
'AXISBANK - Axis Bank Ltd. - BANKS',
'BAJAJ-AUTO - Bajaj Auto Ltd. - AUTOMOBILES - 2 AND 3 WHEELERS',
'BAJAJFINSV - Bajaj Finserv Ltd. - FINANCIAL INSTITUTION',
'BAJFINANCE - Bajaj Finance - FINANCE',
'BHARTIARTL - Bharti Airtel Ltd. - TELECOMMUNICATION - SERVICES',
'BPCL - Bharat Petroleum Corporation Ltd. - REFINERIES',
'BRITANNIA - Britannia Industries Ltd. - FOOD AND FOOD PROCESSING',
'CIPLA - Cipla Ltd. - PHARMACEUTICALS',
'COALINDIA - Coal India Ltd - MINING',
"DRREDDY - Dr. Reddy's Laboratories Ltd. - PHARMACEUTICALS",
'EICHERMOT - Eicher Motors Ltd. - AUTOMOBILES - 4 WHEELERS',
'GAIL - GAIL (India) Ltd. - GAS',
'GRASIM - Grasim Industries Ltd. - CEMENT AND CEMENT PRODUCTS',
'HCLTECH - HCL Technologies Ltd. - COMPUTERS - SOFTWARE',
'HDFC - Housing Development Finance Corporation Ltd. - FINANCE - HOUSING',
'HDFCBANK - HDFC Bank Ltd. - BANKS',
'HEROMOTOCO - Hero MotoCorp Ltd. - AUTOMOBILES - 2 AND 3 WHEELERS',
'HINDALCO - Hindalco Industries Ltd. - ALUMINIUM',
'HINDUNILVR - Hindustan Unilever Ltd. - PERSONAL CARE',
'ICICIBANK - ICICI Bank Ltd. - BANKS',
'INDUSINDBK - IndusInd Bank Ltd. - BANKS',
'INFRATEL - Bharti Infratel - TELECOMMUNICATION - EQUIPMENT',
'INFY - Infosys Ltd. - COMPUTERS - SOFTWARE',
'IOC - Indian Oil Corporation Ltd. - REFINERIES',
'ITC - I T C Ltd. - CIGARETTES',
'JSWSTEEL - JSW Steel Ltd. - STEEL AND STEEL PRODUCTS',
'KOTAKBANK - Kotak Mahindra Bank Ltd. - BANKS',
'LT - Larsen & Toubro Ltd. - ENGINEERING',
'M&M - Mahindra & Mahindra Ltd. - AUTOMOBILES - 4 WHEELERS',
'MARUTI - Maruti Suzuki India Ltd. - AUTOMOBILES - 4 WHEELERS',
'NESTLEIND - Nestle India Ltd. - FOOD AND FOOD PROCESSING',
'NIFTY_500 - NIFTY 500 - INDEX',
'NTPC - NTPC Ltd. - POWER',
'ONGC - Oil & Natural Gas Corporation Ltd. - OIL EXPLORATION/PRODUCTION',
'POWERGRID - Power Grid Corporation of India Ltd. - POWER',
'RELIANCE - Reliance Industries Ltd. - REFINERIES',
'SBIN - State Bank of India - BANKS',
'SHREECEM - Shree Cement Ltd. - CEMENT AND CEMENT PRODUCTS',
'SUNPHARMA - Sun Pharmaceutical Industries Ltd. - PHARMACEUTICALS',
'TATAMOTORS - Tata Motors Ltd. - AUTOMOBILES - 4 WHEELERS',
'TATASTEEL - Tata Steel Ltd. - STEEL AND STEEL PRODUCTS',
'TCS - Tata Consultancy Services Ltd. - COMPUTERS - SOFTWARE',
'TECHM - Tech Mahindra Ltd. - COMPUTERS - SOFTWARE',
'TITAN - Titan Company Ltd. - GEMS, JEWELLERY AND WATCHES',
'ULTRACEMCO - UltraTech Cement Ltd. - CEMENT AND CEMENT PRODUCTS',
'UPL - UPL Ltd. - PESTICIDES AND AGROCHEMICALS',
'VEDL - Vedanta Ltd - MINING',
'WIPRO - Wipro Ltd. - COMPUTERS - SOFTWARE',
'ZEEL - Zee Entertainment Enterprises Ltd. - MEDIA & ENTERTAINMENT',
'NIFTY - S&P CNX NIFTY - INDEX']

function autocomplete(inp, arr) {
    /*the autocomplete function takes two arguments,
    the text field element and an array of possible autocompleted values:*/
    var currentFocus;
    /*execute a function when someone writes in the text field:*/
    inp.addEventListener("input", function(e) {
        var a, b, i, val = this.value;
        /*close any already open lists of autocompleted values*/
        closeAllLists();
        if (!val) { return false;}
        currentFocus = -1;
        /*create a DIV element that will contain the items (values):*/
        a = document.createElement("DIV");
        a.setAttribute("id", this.id + "autocomplete-list");
        a.setAttribute("class", "autocomplete-items");
        /*append the DIV element as a child of the autocomplete container:*/
        this.parentNode.appendChild(a);
        /*for each item in the array...*/
        for (i = 0; i < arr.length; i++) {
          /*check if the item starts with the same letters as the text field value:*/
          if (arr[i].substr(0, val.length).toUpperCase() == val.toUpperCase()) {
            /*create a DIV element for each matching element:*/
            b = document.createElement("DIV");
            /*make the matching letters bold:*/
            b.innerHTML = "<strong>" + arr[i].substr(0, val.length) + "</strong>";
            b.innerHTML += arr[i].substr(val.length);
            /*insert a input field that will hold the current array item's value:*/
            b.innerHTML += "<input type='hidden' value='" + arr[i] + "'>";
            /*execute a function when someone clicks on the item value (DIV element):*/
                b.addEventListener("click", function(e) {
                /*insert the value for the autocomplete text field:*/
                inp.value = this.getElementsByTagName("input")[0].value;
                /*close the list of autocompleted values,
                (or any other open lists of autocompleted values:*/
                closeAllLists();
            });
            a.appendChild(b);
          }
        }
    });
    /*execute a function presses a key on the keyboard:*/
    inp.addEventListener("keydown", function(e) {
        var x = document.getElementById(this.id + "autocomplete-list");
        if (x) x = x.getElementsByTagName("div");
        if (e.keyCode == 40) {
          /*If the arrow DOWN key is pressed,
          increase the currentFocus variable:*/
          currentFocus++;
          /*and and make the current item more visible:*/
          addActive(x);
        } else if (e.keyCode == 38) { //up
          /*If the arrow UP key is pressed,
          decrease the currentFocus variable:*/
          currentFocus--;
          /*and and make the current item more visible:*/
          addActive(x);
        } else if (e.keyCode == 13) {
          /*If the ENTER key is pressed, prevent the form from being submitted,*/
          e.preventDefault();
          if (currentFocus > -1) {
            /*and simulate a click on the "active" item:*/
            if (x) x[currentFocus].click();
          }
        }
    });
    function addActive(x) {
      /*a function to classify an item as "active":*/
      if (!x) return false;
      /*start by removing the "active" class on all items:*/
      removeActive(x);
      if (currentFocus >= x.length) currentFocus = 0;
      if (currentFocus < 0) currentFocus = (x.length - 1);
      /*add class "autocomplete-active":*/
      x[currentFocus].classList.add("autocomplete-active");
    }
    function removeActive(x) {
      /*a function to remove the "active" class from all autocomplete items:*/
      for (var i = 0; i < x.length; i++) {
        x[i].classList.remove("autocomplete-active");
      }
    }
    function closeAllLists(elmnt) {
      /*close all autocomplete lists in the document,
      except the one passed as an argument:*/
      var x = document.getElementsByClassName("autocomplete-items");
      for (var i = 0; i < x.length; i++) {
        if (elmnt != x[i] && elmnt != inp) {
        x[i].parentNode.removeChild(x[i]);
      }
    }
  }
  /*execute a function when someone clicks in the document:*/
  document.addEventListener("click", function (e) {
      closeAllLists(e.target);
  });
  }

    autocomplete(document.getElementById("myInput"), companies);
    </script>




{% endblock %}